#!/usr/bin/env bash
set -euo pipefail

echo
echo "========================================"
echo "       GITKEY-INSTALL (install en local)"
echo "========================================"
echo

# --- 1) Demander les identifiants GitHub immÃ©diatement ---
read -p "Nom dâ€™utilisateur GitHub : " GITHUB_USER
read -s -p "Mot de passe ou token GitHub : " GITHUB_TOKEN
echo
echo "â†’ Identifiants saisis (le token reste masquÃ©)."
echo

# --- 2) Enregistrer ces credentials quelque part ---
CONFIG_DIR="$HOME/.neomnia"
mkdir -p "$CONFIG_DIR"
cat > "$CONFIG_DIR/credentials.conf" <<EOF
GITHUB_USER="$GITHUB_USER"
GITHUB_TOKEN="$GITHUB_TOKEN"
EOF
echo "â†’ Credentials enregistrÃ©s dans $CONFIG_DIR/credentials.conf"
echo

# --- 3) Poursuivre la suite de lâ€™installation (exemple) ---
# Ici, vous pouvez ajouter les commandes que vous souhaitez
# exÃ©cuter maintenant que vous avez $GITHUB_USER et $GITHUB_TOKEN.
# Par exemple :
#   git clone https://github.com/mon-org/mon-projet.git
#   cd mon-projet && ./setup-env.sh
#
# Pour ce modÃ¨le, on se contente juste dâ€™un message final :

echo "ðŸŽ‰ Installation locale terminÃ©e avec succÃ¨s."
exit 0
